extends layout/layout
block append customcss
  link(rel='stylesheet', href='/resources/css/newPlacing.css')
  link(rel='stylesheet', href='/resources/css/newList.css')
block content
  div.placing-advert.nexchange-mainbg
    div.main-content
      if (isEditing)
        div.head-text РЕДАКТИРОВАНИЕ ПРЕДЛОЖЕНИЯ
      else
        div.head-text ДОБАВЛЕНИЕ ПРЕДЛОЖЕНИЯ
      div.form-placing
        form#placing-advert(method='post', action="placing.html", enctype="multipart/form-data")
          if (isEditing)
              input(type='text', placeholder="Заголовок", name="title", value="#{advertisementPlacingForm.title}").form-rounded-button.hollow-text.advertisement-title
          else
            input(type='text', placeholder="Заголовок", name="title").form-rounded-button.hollow-text.advertisement-title
          select.select-category(name="category")
            if (!isEditing)
              option(selected='selected', disabled='disabled') Выберите Категорию
            if (advertisementPlacingForm.category == "games")
              option.choosen-category(value='games', selected='selected', name="category") Игры
            else
              option.choosen-category(value='games', name="category") Игры
            if (advertisementPlacingForm.category == "clothes")
              option.choosen-category(value='clothes', selected='selected', name="category") Одежда
            else
              option.choosen-category(value='clothes', name="category") Одежда
            if (advertisementPlacingForm.category == "notclothes")
              option.choosen-category(value='notclothes', selected='selected', name="category") Не одежда
            else
              option.choosen-category(value='notclothes', name="category") Не одежда
          div.placing-file-and-tags
            label.border-file-choose.placing-file-choose
              div.file-button-hollow-text.js-image-text Выберите изображение
              input#image(name = "image", type="file").js-image-chosen
            div.choose-tags-and-button
              input(type='text', placeholder="Теги").placing-tag-form-rounded-button.hollow-text.placing-tag-choose.js-added-tag
              a#add-tag.reg-rounded-button.file-choose.placing-tag-add.js-add-tag ДОБАВИТЬ
              input(type='hidden', name="tags", value="#{advertisementPlacingForm.tags}").js-tags-chosen
            if (isEditing)
              a(href='#{imageUrl}').file-current-hollow-text.js-current-image Текущее изображение
            if (isErrors)
              for error in errors
                div.red-alert-text #{error.getDefaultMessage()}
            if (isEditing)
              div.tags-and-textarea
                textarea(placeholder="Описание", name="text", value="#{advertisementPlacingForm.text}").form-rounded-button.hollow-text.placing-textarea
                  | #{advertisementPlacingForm.text}
                div.chosen-tags.js-tags-placing
                  for tag in tags
                    div.tags-and-cross
                      div.chosen-tag #{tag.name}
                      a.cross-circle.js-deleting-tag
            else
              div.tags-and-textarea
                textarea(placeholder="Описание", name="text", value="#{advertisementPlacingForm.text}").form-rounded-button.hollow-text.placing-textarea
                div.chosen-tags.js-tags-placing
          div.placing-end-button
            if (isEditing)
              input(type="submit", placeholder="РЕДАКТИРОВАТЬ", value="ИЗМЕНИТЬ").rounded-button.adding-advert.small-tab-text
              input(type="hidden", value='#{advertisementId}', name="editingAdvertisementId")
              input(type="hidden", value='#{imageFileName}', name="advertisementOldImageName")
            else
              input(type="submit", placeholder="ДОБАВИТЬ", value="ДОБАВИТЬ").rounded-button.adding-advert.small-tab-text
block append customjs
  script(src="/resources/js/badImage.js")
  script(src="/resources/js/newPlacing.js")
